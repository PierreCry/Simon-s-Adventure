## Ecrit sur Notepad++ et éxécuté avec Python 3.6 (64-bit)
## Groupe superdry (Pierre Cry et Matthias Ambroise)

from tkinter import *
from random import *

"""Ce programme consiste à créer un nouveau niveau, qui se situera dans une grotte.
Ce code est le squelette du niveau"""

#### Programme de déplacement ####

def mouvement(a,b):
        global x, y, img
        x, y = x+a, y+b
        can.coords(img, x, y)


def gauche(event):
        global img
        if x>150:
                mouvement(-50,0)
                can.itemconfigure(img,image=fichier_imgg)
        
                
def droite(event):
        global img
        if x<1800:
                mouvement(50,0)
                can.itemconfigure(img,image=fichier_imgd)
def haut(event):
        global img
        if y>150:
        	mouvement(0,-50)
                
def bas(event):
        global img
        if y<800:
                mouvement(0,50)

				

#### Création de l'environnement ####

fen = Tk()
can = Canvas(fen, height=1000, width=5000)

x0=100                  
y0=100

x1=150
y1=150

"""for j in range (35):
        for i in range (15):

                can.create_rectangle(x0, y0, x1, y1, fill="white")
                
                y0=y0+50
                y1=y1+50
				
        y0=100
        y1=150
        x0=x0+50
        x1=x1+50"""
	
	

##### Implémentation du décor #####

#Grotte
g108=PhotoImage(file='108 (rocher).gif')
g101=PhotoImage(file='101 (sol rocheux).gif')
g109=PhotoImage(file='109 (eau sombre).gif')



M=[
[108, 108, 108, 108, 108, 108, 108, 101, 108, 108, 108, 108, 108, 108, 108], [108, 101, 101, 101, 101, 101, 101, 101, 101, 101, 101, 101, 101, 101, 108], 
[108, 101, 101, 101, 101, 101, 101, 101, 101, 101, 101, 101, 101, 101, 108], [108, 101, 101, 101, 101, 101, 101, 101, 101, 101, 101, 101, 101, 101, 108], 
[108, 101, 101, 101, 101, 101, 101, 101, 101, 101, 101, 101, 101, 101, 108], [108, 101, 101, 101, 101, 101, 101, 101, 101, 101, 101, 101, 101, 101, 108], 
[108, 101, 101, 101, 101, 101, 101, 101, 101, 101, 101, 101, 101, 101, 108], [108, 108, 108, 108, 108, 108, 108, 101, 108, 108, 108, 108, 108, 108, 108], 
[108, 109, 109, 109, 109, 108, 101, 101, 101, 101, 108, 108, 108, 101, 108], [108, 109, 109, 109, 109, 108, 101, 101, 101, 101, 108, 108, 108, 101, 108], 
[108, 109, 109, 109, 109, 108, 101, 101, 101, 101, 108, 108, 108, 101, 108], [108, 109, 109, 109, 109, 108, 101, 101, 101, 101, 108, 108, 108, 101, 108], 
[108, 109, 109, 109, 109, 108, 101, 101, 101, 101, 108, 108, 108, 101, 108], [108, 108, 109, 109, 108, 101, 101, 101, 101, 101, 108, 108, 108, 101, 108], 
[108, 109, 109, 109, 108, 101, 101, 101, 101, 101, 101, 101, 101, 101, 108], [108, 109, 109, 108, 108, 108, 108, 101, 101, 101, 101, 108, 108, 108, 108], 
[108, 109, 109, 109, 109, 109, 108, 101, 101, 101, 101, 101, 101, 101, 108], [101, 101, 101, 101, 101, 101, 101, 101, 101, 101, 101, 108, 108, 108, 108], 
[108, 109, 109, 109, 109, 109, 108, 101, 108, 108, 101, 101, 101, 101, 108], [108, 109, 109, 109, 109, 109, 108, 108, 108, 101, 101, 101, 101, 101, 108], 
[108, 109, 109, 109, 109, 109, 108, 108, 108, 108, 108, 108, 108, 101, 108], [108, 109, 109, 109, 109, 109, 108, 108, 108, 108, 101, 101, 101, 101, 108], 
[108, 109, 109, 109, 109, 109, 108, 108, 108, 108, 108, 108, 108, 101, 108], [108, 109, 109, 109, 109, 109, 108, 108, 108, 108, 108, 108, 108, 101, 108], 
[108, 109, 109, 109, 109, 109, 108, 108, 108, 108, 108, 108, 108, 101, 108], [108, 109, 109, 109, 109, 109, 108, 101, 108, 108, 108, 108, 108, 101, 108], 
[108, 109, 109, 109, 109, 109, 108, 101, 108, 108, 108, 108, 108, 101, 108], [108, 109, 109, 109, 109, 109, 108, 101, 108, 108, 108, 108, 108, 101, 108], 
[108, 109, 109, 109, 109, 109, 108, 101, 108, 108, 101, 101, 101, 101, 108], [108, 109, 109, 109, 109, 109, 108, 101, 108, 108, 101, 101, 101, 101, 108], 
[108, 108, 108, 108, 108, 108, 108, 101, 101, 101, 101, 101, 101, 108, 108], [108, 108, 108, 108, 108, 108, 108, 101, 108, 108, 101, 101, 108, 108, 108], 
[108, 108, 108, 108, 108, 108, 108, 101, 108, 108, 101, 101, 108, 108, 108], [108, 108, 108, 108, 108, 108, 108, 101, 101, 101, 101, 101, 108, 108, 108], 
[108, 108, 108, 108, 108, 108, 108, 101, 108, 108, 108, 108, 108, 108, 108]]


for i in range(len(M)):
	for j in range(len(M[0])):
		if M[i][j]==101:
			can.create_image(125+50*i,125+50*j,image=g101)
		if M[i][j]==108:
			can.create_image(125+50*i,125+50*j,image=g108)
		if M[i][j]==109:
			can.create_image(125+50*i,125+50*j,image=g109)
			


	
##### Programme principal #####

x=125
y=475

#Perso
fichier_imgg=PhotoImage(file='Simon 1.gif')
fichier_imgd=PhotoImage(file='Simon 2.gif')
	
img=can.create_image(x,y,image=fichier_imgd)
can.pack()

fen.bind("<Left>", gauche)
fen.bind("<Right>", droite)
fen.bind("<Up>", haut)
fen.bind("<Down>", bas)

fen.mainloop()
